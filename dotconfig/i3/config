#############
# variables #
#############

# set i3 bindings
set $mod Mod4

# set directories
set $SCRIPTS ~/.local/bin

# applications
set $TERMINAL kitty
set $BROWSER brave --ozone-platform=x11
set $BROWSER2 firefox
set $FILEMANAGER thunar
set $SCREENSHOT maim -s | xclip -selection clipboard -t image/png
set $menu $HOME/.config/rofi/launchers/type-1/launcher.sh

# interface variable
set $gnome-schema org.gnome.desktop.interface


#################################
# set i3 workspaces on monitors #
#################################

set $ws1 "1"
set $ws2 "2"
set $ws3 "3"
set $ws4 "4"
set $ws5 "5"
set $ws6 "6"
set $ws7 "7"
set $ws8 "8"
set $ws9 "9"
set $ws10 "10"
set $wsrdp "rdp"
set $wscode "code"

set $monitor1 "DisplayPort-1"
set $monitor2 "DisplayPort-0"

workspace $ws1 output $monitor1
workspace $ws2 output $monitor1
workspace $ws3 output $monitor1
workspace $ws4 output $monitor1
workspace $ws5 output $monitor1
workspace $ws6 output $monitor2
workspace $ws7 output $monitor2
workspace $ws8 output $monitor2
workspace $ws9 output $monitor2
workspace $ws10 output $monitor2
workspace $wsrdp output $monitor1
workspace $wscode output $monitor1


#########
# fonts #
#########

font pango:JetBrainsMonoNL Nerd Font Propo 10


############
# keybinds #
############

# Use Mouse+$mod to drag floating windows to their wanted position
floating_modifier $mod

# start a terminal
bindsym $mod+Return exec --no-startup-id $TERMINAL

# kill focused window
bindsym $mod+Shift+c kill

# change focus
bindsym $mod+h focus left
bindsym $mod+j focus down
bindsym $mod+k focus up
bindsym $mod+l focus right

# Mod1ernatively, you can use the cursor keys:
bindsym $mod+Left focus left
bindsym $mod+Down focus down
bindsym $mod+Up focus up
bindsym $mod+Right focus right

# move focused window
bindsym $mod+Shift+h move left
bindsym $mod+Shift+j move down
bindsym $mod+Shift+k move up
bindsym $mod+Shift+l move right

# split in horizontal orientation
bindsym $mod+Shift+v split h

# split in vertical orientation
bindsym $mod+v split v

# enter fullscreen mode for the focused container
bindsym $mod+f fullscreen

# change container layout (stacked, tabbed, toggle split)
bindsym $mod+s layout stacking
bindsym $mod+t layout tabbed
bindsym $mod+q layout toggle split

# toggle tiling / floating
bindsym $mod+Shift+space floating toggle

# change focus between tiling / floating windows
bindsym $mod+space focus mode_toggle

# focus the parent container
bindsym $mod+a focus parent

# "Mod1-tab" between workspaces
bindsym $mod+Tab workspace next
bindsym $mod+Shift+Tab workspace prev

# switch to workspace
bindsym $mod+1 workspace $ws1
bindsym $mod+2 workspace $ws2
bindsym $mod+3 workspace $ws3
bindsym $mod+4 workspace $ws4
bindsym $mod+5 workspace $ws5
bindsym $mod+6 workspace $ws6
bindsym $mod+7 workspace $ws7
bindsym $mod+8 workspace $ws8
bindsym $mod+9 workspace $ws9
bindsym $mod+0 workspace $ws10
bindsym $mod+r workspace $wsrdp
bindsym $mod+m workspace $wscode

# move focused container to workspace
bindsym $mod+Shift+1 move container to workspace $ws1
bindsym $mod+Shift+2 move container to workspace $ws2
bindsym $mod+Shift+3 move container to workspace $ws3
bindsym $mod+Shift+4 move container to workspace $ws4
bindsym $mod+Shift+5 move container to workspace $ws5
bindsym $mod+Shift+6 move container to workspace $ws6
bindsym $mod+Shift+7 move container to workspace $ws7
bindsym $mod+Shift+8 move container to workspace $ws8
bindsym $mod+Shift+9 move container to workspace $ws9
bindsym $mod+Shift+0 move container to workspace $ws10
bindsym $mod+Shift+r move container to workspace $wsrdp
bindsym $mod+Shift+m move container to workspace $wscode

# reload the configuration file
bindsym $mod+Shift+e reload
# restart i3 inplace (preserves your layout/session, can be used to upgrade i3)
bindsym $mod+Shift+q restart
# exit i3 (logs you out of your X session)
bindsym $mod+Shift+BackSpace exec "i3-msg exit"

# resize window (you can also use the mouse for that)
mode "resize" {
        bindsym h resize shrink width 10 px or 10 ppt
        bindsym j resize grow height 10 px or 10 ppt
        bindsym k resize shrink height 10 px or 10 ppt
        bindsym l resize grow width 10 px or 10 ppt

        # same bindings, but for the arrow keys
        bindsym Left resize shrink width 10 px or 10 ppt
        bindsym Down resize grow height 10 px or 10 ppt
        bindsym Up resize shrink height 10 px or 10 ppt
        bindsym Right resize grow width 10 px or 10 ppt

        # back to normal: Enter or Escape
        bindsym Return mode default
        bindsym Escape mode default
}

bindsym Mod1+r mode "resize"

mode "dpms" {
        bindsym o exec --no-startup-id xset dpms force off
        bindsym i exec --no-startup-id xset dpms force on
        bindsym Return mode default
        bindsym Escape mode default
}

bindsym Mod1+o mode "dpms"

mode "programs" {
        bindsym p exec --no-startup-id $SCRIPTS/polybar.sh
        bindsym n exec --no-startup-id $SCRIPTS/dunst-restart-xorg.sh
        bindsym c exec --no-startup-id $SCRIPTS/conky.sh
        bindsym x exec --no-startup-id dunstify -t 2000 "Setting xorg monitor..." && sleep 2 && xrandr --output DP-2 --primary && dunstify -t 4000 "xrandr primary monitor set."
        bindsym Return mode default
        bindsym Escape mode default
}

bindsym Mod1+p mode "programs"


####################
# general settings #
####################

popup_during_fullscreen smart
workspace_auto_back_and_forth yes

# focus configurations
focus_wrapping no
focus_on_window_activation none
focus_follows_mouse yes

#  borders and window titles
for_window [class="^.*"] border pixel 2
for_window [class="i3-frame"] border pixel 2
# hide_edge_borders smart

# class               border          	backgr.         text            indicator       child_border
client.focused          #ad8ee6         #1a1b26         #acb0d0         #ad8ee6         #ad8ee6
client.focused_inactive #1a1b26       	#1a1b26         #acb0d0         #1a1b26         #1a1b26
client.unfocused        #4c566a       	#1a1b26         #888888         #292d2e         #222222
client.urgent           #f7768e         #1a1b26         #f7768e         #f7768e         #f7768e
client.placeholder      #000000         #1a1b26         #efefef         #000000         #0c0c0c
client.background       #acb0d0

# gaps
gaps inner 4
gaps outer 2
smart_gaps off

#######################
# custom startup apps #
#######################

bindsym XF86AudioNext exec --no-startup-id playerctl next
bindsym XF86AudioPlay exec --no-startup-id $SCRIPTS/control-player.sh play-pause
bindsym XF86AudioPrev exec --no-startup-id playerctl previous
bindsym XF86AudioRaiseVolume exec --no-startup-id $SCRIPTS/volumeinc.sh
bindsym XF86AudioLowerVolume exec --no-startup-id $SCRIPTS/volumedec.sh
bindsym XF86AudioMute exec --no-startup-id $SCRIPTS/volumetoggle.sh

bindsym XF86Calculator exec --no-startup-id galculator


#######################
# custom startup apps #
#######################

exec --no-startup-id dbus-update-activation-environment --all

# theme settings
exec --no-startup-id gsettings set $gnome-schema gtk-theme fan-custom-theme &
exec --no-startup-id gsettings set $gnome-schema icon-theme Tela-circle-nord &
exec --no-startup-id gsettings set $gnome-schema cursor-theme breeze-dark &
exec --no-startup-id gsettings set $gnome-schema font-name "Ubuntu Mono 10" &
exec --no-startup-id gsettings set $gnome-schema cursor-size 24 &

# decorations
exec --no-startup-id $HOME/.custom-exes/cmdemo-app/cmdemo_script DisplayPort-1 1.2
exec --no-startup-id $HOME/.custom-exes/cmdemo-app/cmdemo_script DisplayPort-0 1.2
#
# systray items
exec --no-startup-id blueman-applet &
exec --no-startup-id solaar --window hide &
#
# initial programs
exec --no-startup-id $BROWSER &
exec --no-startup-id rustdesk &
exec --no-startup-id steam-native &


############################
# custom application binds #
############################

bindsym $mod+d exec --no-startup-id $menu
bindsym Print exec --no-startup-id $SCREENSHOT
bindsym $mod+e exec --no-startup-id $FILEMANAGER
bindsym $mod+b exec --no-startup-id $BROWSER
bindsym $mod+shift+b exec --no-startup-id $BROWSER2
bindsym Control+Mod1+l exec --no-startup-id $SCRIPTS/rofi-powermenu.sh
bindsym Control+Mod1+b exec --no-startup-id $SCRIPTS/rofi-bluetooth.sh
bindsym $mod+w exec --no-startup-id fanos-menu

#######################
# set app settings #
#######################

# set steam friends list #
for_window [title="^Friends List"] resize set width 20 ppt

# browser pop-ups floating #
for_window [window_role="pop-up"] floating enable

# general applications that should be floating #
for_window [class="About"] floating enable
for_window [class="Gufw.py"] floating enable
for_window [class="Pavucontrol"] floating enable
for_window [class="pavucontrol"] floating enable
for_window [class="Arandr"] floating enable
for_window [class="Pulseeffects"] floating enable
for_window [class="Nitrogen"] floating enable
for_window [class="copyq"] floating enable
for_window [class="Yad"] floating enable
for_window [title="Steam Settings"] floating enable
for_window [class="Solaar"] floating enable
for_window [class="Galculator"] floating enable

# open applications in fullscreen
for_window [title="^HELLDIVERS™ 2"] fullscreen

# open applications in tabbed mode
for_window [class="rustdesk"] layout tabbed
for_window [class="Rustdesk"] layout tabbed
for_window [title="Remmina Remote Desktop Client"] layout tabbed
for_window [title="Virtual Machine Manager"] layout tabbed

# for wrye bash
for_window [title="Select Game"] floating enable


#############################
# Assign Program Workspaces #
#############################

# workspace 1
assign [class="Thorium-browser"] $ws1
assign [class="thorium-browser"] $ws1
assign [class="google-chrome-stable"] $ws1
assign [class="Brave-browser"] $ws1
assign [class="brave-browser"] $ws1

# workspace 2

# workspace 3
assign [class="steam"] $ws3
assign [class="steamwebhelper"] $ws3
assign [class="Lutris"] $ws3

# workspace 4
assign [title="Virtual Machine Manager"] $ws4
assign [class="VirtualBox Manager"] $ws4
assign [title="Bitwarden"] $ws4

# workspace 5

# workspace 6

# workspace 7

# workspace 8

# workspace 9

# workspace 10

# workspace rdp
assign [title="Remmina Remote Desktop Client"] $wsrdp
assign [class="rustdesk"] $wsrdp
assign [class="Rustdesk"] $wsrdp

# workspace code
assign [class="code"] $wscode
assign [class="Code"] $wscode

# scratchpads
for_window [class="discord"] move container to scratchpad
for_window [class="vesktop"] move container to scratchpad
for_window [title="TeamSpeak 3"] move container to scratchpad

bindsym $mod+Shift+minus move scratchpad
bindsym $mod+minus scratchpad show
bindsym $mod+p [class="discord"] scratchpad show

################################
# Assign wineserver Workspaces #
################################

for_window [class="wow.exe"] move container to workspace 5
for_window [class="Overwatch.exe"] move container to workspace 5
for_window [class="battle.net.exe"] move container to workspace 3
for_window [class="modorganizer.exe"] move container to workspace 5
for_window [title="^HELLDIVERS™ 2"] move container to workspace 5
for_window [class=".*steam_app.*"] move container to workspace 5


#############
# statusbar #
#############

bar {
        status_command i3status-rs /home/fanatical/.config/i3status-rust/config.toml
        font xft:JetBrainsMonoNL Nerd Font Bold 10
        separator_symbol "|"
        position top

        strip_workspace_numbers yes
        workspace_min_width 20
        workspace_buttons yes

        tray_output DisplayPort-1
        tray_padding 4

	colors {
		separator   #ad8ee6
		background  #1a1b26
		statusline  #ad8ee6
#				        border          background      font
		focused_workspace       #0db9d7         #1a1b26         #0db9d7
		active_workspace        #ad8ee6         #1a1b26         #ad8ee6
		inactive_workspace      #787c99         #1a1b26         #787c99
		urgent_workspace        #f7768e         #1a1b26         #f7768e
                binding_mode            #ad8ee6         #1a1b26         #ad8ee6
        } 
}
